---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Welcome to Astro.">
	<video id="webcamera"></video>
</Layout>

<script>
	const video = document.getElementById("webcamera") as HTMLVideoElement;

	navigator.mediaDevices.getUserMedia({
		video: true, // ビデオだけ取得
		audio: false, // 音声なし
	}).then(stream => {
		video.srcObject = stream; //リアルタイムに再生（ストリーミング）させるためにビデオタグに流し込む
		video.play()
	}).catch(e => {
		console.log(e)
	})
</script>

<style>
	* {
		margin: 0;
		padding: 0;
	}

	html,body {
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
		overflow: hidden;
	}

	#webcamera {
		width: 100%;
		height: 100%;
		object-fit: cover;
		transform: scaleX(-1)
	}
</style>
